import{_ as j,o as s,c as i,a as e,t,n as $,r as p,b as C,i as I,j as A,w as b,e as U,k as v,v as L,F as S,d as P,h as q}from"./index-7upqePmH.js";import{_ as z,a as G}from"./機車-D4nls2Mz.js";import{u as J}from"./facultyStudentStore-Bf3aKsPt.js";import{M as K}from"./bootstrap.esm-Ceob_0pG.js";const O="/NTHU-Parking-Event-Management/images/vehicle/%E8%85%B3%E8%B8%8F%E8%BB%8A.svg",Q={class:"fw-bold"},W={class:"d-flex justify-content-start gap-5"},X={__name:"VehicleType",props:{car_type_title:{type:String,required:!0}},emits:["updateCar_type_title"],setup(f,{emit:y}){const o=y;function c(g){o("updateCar_type_title",g)}return(g,n)=>(s(),i("section",null,[e("p",Q,t(g.$t("pages.applyFacultyStudentParking.vehicle_registration.vehicle_type")),1),e("div",W,[e("div",{class:$(["d-flex flex-column align-items-center pointer",{"gray-overlay":f.car_type_title!="汽車"}]),onClick:n[0]||(n[0]=m=>c("汽車"))},n[3]||(n[3]=[e("div",{class:"img-container"},[e("img",{src:z,alt:"汽車"})],-1)]),2),e("div",{class:$(["d-flex flex-column align-items-center pointer",{"gray-overlay":f.car_type_title!="機車"}]),onClick:n[1]||(n[1]=m=>c("機車"))},n[4]||(n[4]=[e("div",{class:"img-container"},[e("img",{src:G,alt:"機車"})],-1)]),2),e("div",{class:$(["d-flex flex-column align-items-center pointer",{"gray-overlay":f.car_type_title!="腳踏車"}]),onClick:n[2]||(n[2]=m=>c("腳踏車"))},n[5]||(n[5]=[e("div",{class:"img-container"},[e("img",{src:O,alt:"腳踏車"})],-1)]),2)])]))}},Y=j(X,[["__scopeId","data-v-bb6d54ab"]]),Z={class:"mt-3 fw-bold"},ee={class:"mt-3"},te={key:0,class:"mb-3"},ae={for:"plate",class:"form-label"},le={key:1,class:"mb-3"},se={for:"car_type",class:"form-label"},ie=["value"],ne={key:2,class:"mb-3"},oe={for:"car_type",class:"form-label"},re=["value"],de={key:3,class:"mb-3"},ce={for:"bike_num",class:"form-label"},ue={class:"d-flex justify-content-between"},pe={class:"mt-3"},_e={class:"registered-list border rounded vehicle-registration"},ve={class:"d-flex justify-content-between align-items-center px-3 py-1 mt-1"},ye={class:"m-0 d-flex align-items-center"},ge={key:0,class:"me-3"},me={key:1},he={key:2},fe=["onClick"],ke={class:"modal fade",id:"deleteModal",tabindex:"-1","aria-labelledby":"deleteModalLabel","aria-hidden":"true"},be={class:"modal-dialog modal-dialog-centered"},Se={class:"modal-content"},Fe={class:"modal-header bg-secondary"},$e={class:"modal-title text-black",id:"deleteModalModalLabel"},Ce={class:"modal-body"},Pe={key:0,class:"me-3"},Me={key:1},Ve={key:2},Te={class:"modal-footer"},Ee={__name:"Step2VehicleRegistration",setup(f){const y=J(),o=p("汽車"),c=p("pages.applyFacultyStudentParking.vehicle_registration.vehicle_type_car");function g(a){o.value=a,o.value=="汽車"?c.value="pages.applyFacultyStudentParking.vehicle_registration.vehicle_type_car":o.value=="機車"?c.value="pages.applyFacultyStudentParking.vehicle_registration.vehicle_type_scooter":c.value="pages.applyFacultyStudentParking.vehicle_registration.vehicle_type_bike"}const n=[{code:"TC",des:"教職員校內汽車識別證"},{code:"TE",des:"職務宿舍區汽車識別證"},{code:"SC",des:"學生汽車識別證"},{code:"HF",des:"短期汽車識別證"},{code:"TM",des:"教職員機車識別證"},{code:"TEM",des:"職務宿舍區機車識別證"},{code:"SM",des:"學生機車識別證"}],m=p([]);function M(){m.value=n.filter(a=>o.value==="汽車"?["TC","TE","SC","HF"].includes(a.code):o.value==="機車"?["TM","TEM","SM"].includes(a.code):[])}C(()=>{M()}),I(()=>{M()});const V=p([]);function x(){V.value=[{id:1,des:"汽油車"},{id:2,des:"油電車"},{id:3,des:"電動車"},{id:4,des:"柴油車"}]}C(()=>{x()});const r=p({plate:"",car_type:"",car_type_title:"",main_pass_code:""}),_=p([]);function D(){o.value=="機車"?r.value.car_type=5:o.value=="腳踏車"&&(r.value.car_type=6,r.value.main_pass_code="BS",r.value.plate="腳踏車",r.value.bike_num=k.value),r.value.car_type_title=o.value,_.value.push(r.value),r.value={},k.value=null}let h=null;const u=p({});function N(a){const d=document.getElementById("deleteModal");h||(h=new K(d)),h.show(),u.value=_.value[a],u.value.index=a}function F(){h&&h.hide()}function R(){_.value.splice(u.value.index,1),F()}const k=p(null);function H(){y.setVehicleRegisteredList(_.value),console.log(_.value),q.push({name:"ApplyFacultyStudentParking_step3"})}return C(()=>{y.getVehicleRegisteredList(),_.value=y.vehicle_registered_list}),(a,d)=>{var T;return s(),i(S,null,[A(Y,{car_type_title:o.value,onUpdateCar_type_title:g},null,8,["car_type_title"]),e("h3",Z,t(a.$t(c.value)),1),e("form",ee,[o.value!="腳踏車"?(s(),i("div",te,[e("label",ae,t(a.$t("pages.applyFacultyStudentParking.vehicle_registration.plate")),1),b(e("input",{type:"text",class:"form-control",id:"plate","onUpdate:modelValue":d[0]||(d[0]=l=>r.value.plate=l)},null,512),[[U,r.value.plate]])])):v("",!0),o.value!="腳踏車"?(s(),i("div",le,[e("label",se,t(a.$t("pages.applyFacultyStudentParking.vehicle_registration.main_pass_code")),1),b(e("select",{class:"form-select","onUpdate:modelValue":d[1]||(d[1]=l=>r.value.main_pass_code=l)},[(s(!0),i(S,null,P(m.value,l=>(s(),i("option",{key:l.code,value:l.code},t(l.des),9,ie))),128))],512),[[L,r.value.main_pass_code]])])):v("",!0),o.value=="汽車"?(s(),i("div",ne,[e("label",oe,t(a.$t("pages.applyStaffParking.vehicle_registration.car_type")),1),b(e("select",{class:"form-select","onUpdate:modelValue":d[2]||(d[2]=l=>r.value.car_type=l)},[(s(!0),i(S,null,P(V.value,l=>(s(),i("option",{key:l.id,value:l.id},t(l.des),9,re))),128))],512),[[L,r.value.car_type]])])):v("",!0),o.value=="腳踏車"?(s(),i("div",de,[e("label",ce,t(a.$t("pages.applyFacultyStudentParking.vehicle_registration.bike_num")),1),b(e("input",{type:"number",class:"form-control",id:"bike_num","onUpdate:modelValue":d[3]||(d[3]=l=>k.value=l)},null,512),[[U,k.value]])])):v("",!0)]),e("div",ue,[e("button",{class:"btn btn-secondary",onClick:D},t(a.$t("pages.applyFacultyStudentParking.vehicle_registration.register")),1),e("button",{class:"btn btn-secondary",onClick:H},t(a.$t("pages.applyFacultyStudentParking.vehicle_registration.next")),1)]),e("section",null,[e("p",pe,t(a.$t("pages.applyFacultyStudentParking.vehicle_registration.plate_registered")),1),e("div",_e,[e("ul",null,[(s(!0),i(S,null,P(_.value,(l,E)=>{var w;return s(),i("li",{key:E},[e("div",ve,[e("p",ye,[l.plate!="腳踏車"?(s(),i("span",ge,t(l.plate),1)):v("",!0),l.car_type_title==="腳踏車"?(s(),i("span",me,[e("span",null,t(a.$t("pages.applyFacultyStudentParking.vehicle_registration.main_pass_bike")),1),e("span",null," "+t(l.bike_num||0)+" ",1),e("span",null,t(a.$t("pages.applyFacultyStudentParking.vehicle_registration.unit")),1)])):(s(),i("span",he,t(((w=n.find(B=>B.code===l.main_pass_code))==null?void 0:w.des)||"未知"),1))]),e("button",{class:"btn btn-dark",onClick:B=>N(E)},t(a.$t("pages.applyFacultyStudentParking.vehicle_registration.delete")),9,fe)])])}),128))])]),e("div",ke,[e("div",be,[e("div",Se,[e("div",Fe,[e("h5",$e,t(a.$t("pages.applyFacultyStudentParking.vehicle_registration.delete_confirm_title")),1),e("button",{type:"button",class:"btn-close",onClick:F,"aria-label":"Close"})]),e("div",Ce,[e("p",null,[u.value.plate!="腳踏車"?(s(),i("span",Pe,t(u.value.plate),1)):v("",!0),u.value.car_type_title==="腳踏車"?(s(),i("span",Me,[e("span",null,t(a.$t("pages.applyFacultyStudentParking.vehicle_registration.main_pass_bike")),1),e("span",null," "+t(u.value.bike_num||0)+" ",1),e("span",null,t(a.$t("pages.applyFacultyStudentParking.vehicle_registration.unit")),1)])):(s(),i("span",Ve,t(((T=n.find(l=>l.code===u.value.main_pass_code))==null?void 0:T.des)||"未知"),1))]),e("p",null,t(a.$t("pages.applyFacultyStudentParking.vehicle_registration.delete_confirm_content")),1)]),e("div",Te,[e("p",{class:"pointer text-primary fw-bold",onClick:F},t(a.$t("pages.applyFacultyStudentParking.vehicle_registration.cancel")),1),e("p",{class:"pointer text-primary fw-bold",onClick:R},t(a.$t("pages.applyFacultyStudentParking.vehicle_registration.delete")),1)])])])])])],64)}}},je=j(Ee,[["__scopeId","data-v-cd283c03"]]);export{je as default};
