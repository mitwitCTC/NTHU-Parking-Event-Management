import{_ as w,o as i,c as n,a as e,t,n as M,r as f,b as B,j as E,w as $,e as I,v as L,F as y,d as V,k as h}from"./index-7upqePmH.js";import{M as N}from"./bootstrap.esm-Ceob_0pG.js";import{u as T}from"./staffStore-ccTYGooK.js";import{_ as U,a as F}from"./機車-D4nls2Mz.js";const R={class:"fw-bold"},q={class:"d-flex justify-content-start gap-5"},z={__name:"VehicleType",props:{mainPassCode:{type:String,required:!0}},emits:["updateMainPassCode"],setup(v,{emit:g}){const r=g;function u(p){r("updateMainPassCode",p)}return(p,a)=>(i(),n("section",null,[e("p",R,t(p.$t("pages.applyStaffParking.vehicle_registration.vehicle_type")),1),e("div",q,[e("div",{class:M(["d-flex flex-column align-items-center pointer",{"gray-overlay":v.mainPassCode!="WC"}]),onClick:a[0]||(a[0]=d=>u("WC"))},a[2]||(a[2]=[e("div",{class:"img-container"},[e("img",{src:U,alt:"汽車"})],-1)]),2),e("div",{class:M(["d-flex flex-column align-items-center pointer",{"gray-overlay":v.mainPassCode!="WM"}]),onClick:a[1]||(a[1]=d=>u("WM"))},a[3]||(a[3]=[e("div",{class:"img-container"},[e("img",{src:F,alt:"機車"})],-1)]),2)])]))}},A=w(z,[["__scopeId","data-v-a2f83092"]]),G={class:"mt-5"},H={class:"mb-3"},J={for:"plate",class:"form-label"},K={key:0,class:"mb-3"},O={for:"car_type",class:"form-label"},Q=["value"],X={class:"d-flex justify-content-between"},Y={class:"mt-3"},Z={class:"registered-list border rounded vehicle-registration"},ee={class:"d-flex justify-content-between align-items-center px-3 py-1 mt-1"},te={class:"m-0 d-flex align-items-center"},ae={key:0,class:"me-3"},se={key:1},le={key:2},ie=["onClick"],ne={class:"modal fade",id:"deleteModal",tabindex:"-1","aria-labelledby":"deleteModalLabel","aria-hidden":"true"},oe={class:"modal-dialog modal-dialog-centered"},de={class:"modal-content"},re={class:"modal-header bg-secondary"},ce={class:"modal-title text-black",id:"deleteModalModalLabel"},pe={class:"modal-body"},_e={key:0,class:"me-3"},ue={key:1},fe={key:2},ve={class:"modal-footer"},ge={__name:"Step2VehicleRegistration",setup(v){const g=T(),r=f("WC");B(()=>{g.getApplicantData()});const u=[{id:1,des:"汽油車"},{id:2,des:"油電車"},{id:3,des:"電動車"},{id:4,des:"柴油車"}];function p(s){r.value=s}const a=f({}),d=f([]);function W(){a.value.main_pass_code=r.value,a.value.main_pass_code=="WC"?a.value.car_type_title="汽車":(a.value.car_type_title="機車",a.value.car_type=5),d.value.push(a.value),a.value={}}const k=[{code:"WC",des:"工作證汽車識別證"},{code:"WM",des:"工作機車識別證"}];async function x(){console.log(d.value)}let _=null;const o=f({});function D(s){const c=document.getElementById("deleteModal");_||(_=new N(c)),_.show(),o.value=d.value[s],o.value.index=s}function m(){_&&_.hide()}function j(){d.value.splice(o.value.index,1),m()}return(s,c)=>{var b;return i(),n(y,null,[E(A,{mainPassCode:r.value,onUpdateMainPassCode:p},null,8,["mainPassCode"]),e("form",G,[e("div",H,[e("label",J,t(s.$t("pages.applyStaffParking.vehicle_registration.plate")),1),$(e("input",{type:"text",class:"form-control",id:"plate","onUpdate:modelValue":c[0]||(c[0]=l=>a.value.plate=l)},null,512),[[I,a.value.plate]])]),r.value!="WM"?(i(),n("div",K,[e("label",O,t(s.$t("pages.applyStaffParking.vehicle_registration.car_type")),1),$(e("select",{class:"form-select","onUpdate:modelValue":c[1]||(c[1]=l=>a.value.car_type=l)},[(i(),n(y,null,V(u,l=>e("option",{key:l.id,value:l.id},t(l.des),9,Q)),64))],512),[[L,a.value.car_type]])])):h("",!0)]),e("div",X,[e("button",{class:"btn btn-secondary",onClick:W},t(s.$t("pages.applyStaffParking.vehicle_registration.next")),1),e("button",{class:"btn btn-secondary",onClick:x},t(s.$t("pages.applyStaffParking.vehicle_registration.print")),1)]),e("section",null,[e("p",Y,t(s.$t("pages.applyStaffParking.vehicle_registration.plate_registered")),1),e("div",Z,[e("ul",null,[(i(!0),n(y,null,V(d.value,(l,C)=>{var P;return i(),n("li",{key:C},[e("div",ee,[e("p",te,[l.plate!="腳踏車"?(i(),n("span",ae,t(l.plate),1)):h("",!0),l.car_type_title==="腳踏車"?(i(),n("span",se,[e("span",null,t(s.$t("pages.applyStaffParking.vehicle_registration.main_pass_bike")),1),e("span",null," "+t(l.bike_num||0)+" ",1),e("span",null,t(s.$t("pages.applyStaffParking.vehicle_registration.unit")),1)])):(i(),n("span",le,t(((P=k.find(S=>S.code===l.main_pass_code))==null?void 0:P.des)||"未知"),1))]),e("button",{class:"btn btn-dark",onClick:S=>D(C)},t(s.$t("pages.applyStaffParking.vehicle_registration.delete")),9,ie)])])}),128))])]),e("div",ne,[e("div",oe,[e("div",de,[e("div",re,[e("h5",ce,t(s.$t("pages.applyStaffParking.vehicle_registration.delete_confirm_title")),1),e("button",{type:"button",class:"btn-close",onClick:m,"aria-label":"Close"})]),e("div",pe,[e("p",null,[o.value.plate!="腳踏車"?(i(),n("span",_e,t(o.value.plate),1)):h("",!0),o.value.car_type_title==="腳踏車"?(i(),n("span",ue,[e("span",null,t(s.$t("pages.applyStaffParking.vehicle_registration.main_pass_bike")),1),e("span",null," "+t(o.value.bike_num||0)+" ",1),e("span",null,t(s.$t("pages.applyStaffParking.vehicle_registration.unit")),1)])):(i(),n("span",fe,t(((b=k.find(l=>l.code===o.value.main_pass_code))==null?void 0:b.des)||"未知"),1))]),e("p",null,t(s.$t("pages.applyStaffParking.vehicle_registration.delete_confirm_content")),1)]),e("div",ve,[e("p",{class:"pointer text-primary fw-bold",onClick:m},t(s.$t("pages.applyStaffParking.vehicle_registration.cancel")),1),e("p",{class:"pointer text-primary fw-bold",onClick:j},t(s.$t("pages.applyStaffParking.vehicle_registration.delete")),1)])])])])])],64)}}},be=w(ge,[["__scopeId","data-v-10d69bcd"]]);export{be as default};
