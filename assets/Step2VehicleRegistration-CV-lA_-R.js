import{_ as L,o as s,c as i,a as e,t,n as $,r as p,b as P,i as H,j as A,f as q,w as b,e as U,k as v,v as x,F as S,d as C,h as z}from"./index-C0Zdh1U2.js";import{_ as G,a as J}from"./機車-D4nls2Mz.js";import{u as K}from"./facultyStudentStore-DaxD4Icd.js";import{M as O}from"./bootstrap.esm-Ceob_0pG.js";const Q="/NTHU-Parking-Event-Management/images/vehicle/%E8%85%B3%E8%B8%8F%E8%BB%8A.svg",W={class:"fw-bold"},X={class:"d-flex justify-content-start gap-5"},Y={__name:"VehicleType",props:{car_type_title:{type:String,required:!0}},emits:["updateCar_type_title"],setup(f,{emit:y}){const o=y;function d(g){o("updateCar_type_title",g)}return(g,n)=>(s(),i("section",null,[e("p",W,t(g.$t("pages.applyFacultyStudentParking.vehicle_registration.vehicle_type")),1),e("div",X,[e("div",{class:$(["d-flex flex-column align-items-center pointer",{"gray-overlay":f.car_type_title!="汽車"}]),onClick:n[0]||(n[0]=m=>d("汽車"))},n[3]||(n[3]=[e("div",{class:"img-container"},[e("img",{src:G,alt:"汽車"})],-1)]),2),e("div",{class:$(["d-flex flex-column align-items-center pointer",{"gray-overlay":f.car_type_title!="機車"}]),onClick:n[1]||(n[1]=m=>d("機車"))},n[4]||(n[4]=[e("div",{class:"img-container"},[e("img",{src:J,alt:"機車"})],-1)]),2),e("div",{class:$(["d-flex flex-column align-items-center pointer",{"gray-overlay":f.car_type_title!="腳踏車"}]),onClick:n[2]||(n[2]=m=>d("腳踏車"))},n[5]||(n[5]=[e("div",{class:"img-container"},[e("img",{src:Q,alt:"腳踏車"})],-1)]),2)])]))}},Z=L(Y,[["__scopeId","data-v-bb6d54ab"]]),ee={class:"mt-3 fw-bold"},te={class:"mt-3"},ae={key:0,class:"mb-3"},le={for:"plate",class:"form-label"},se={class:"text-warning"},ie={key:1,class:"mb-3"},ne={for:"car_type",class:"form-label"},oe=["value"],re={key:2,class:"mb-3"},ce={for:"car_type",class:"form-label"},de=["value"],ue={key:3,class:"mb-3"},pe={for:"bike_num",class:"form-label"},_e={class:"d-flex justify-content-between"},ve={class:"mt-3"},ye={class:"registered-list border rounded vehicle-registration"},ge={class:"d-flex justify-content-between align-items-center px-3 py-1 mt-1"},me={class:"m-0 d-flex align-items-center"},he={key:0,class:"me-3"},fe={key:1},ke={key:2},be=["onClick"],Se={class:"modal fade",id:"deleteModal",tabindex:"-1","aria-labelledby":"deleteModalLabel","aria-hidden":"true"},Fe={class:"modal-dialog modal-dialog-centered"},$e={class:"modal-content"},Pe={class:"modal-header bg-secondary"},Ce={class:"modal-title text-black",id:"deleteModalModalLabel"},Me={class:"modal-body"},Ve={key:0,class:"me-3"},Te={key:1},we={key:2},Ee={class:"modal-footer"},Be={__name:"Step2VehicleRegistration",setup(f){const y=K(),o=p("汽車"),d=p("pages.applyFacultyStudentParking.vehicle_registration.vehicle_type_car");function g(a){o.value=a,o.value=="汽車"?d.value="pages.applyFacultyStudentParking.vehicle_registration.vehicle_type_car":o.value=="機車"?d.value="pages.applyFacultyStudentParking.vehicle_registration.vehicle_type_scooter":d.value="pages.applyFacultyStudentParking.vehicle_registration.vehicle_type_bike"}const n=[{code:"TC",des:"教職員校內汽車識別證"},{code:"TE",des:"職務宿舍區汽車識別證"},{code:"SC",des:"學生汽車識別證"},{code:"HF",des:"短期汽車識別證"},{code:"TM",des:"教職員機車識別證"},{code:"TEM",des:"職務宿舍區機車識別證"},{code:"SM",des:"學生機車識別證"}],m=p([]);function M(){m.value=n.filter(a=>o.value==="汽車"?["TC","TE","SC","HF"].includes(a.code):o.value==="機車"?["TM","TEM","SM"].includes(a.code):[])}P(()=>{M()}),H(()=>{M()});const V=p([]);function N(){V.value=[{id:1,des:"汽油車"},{id:2,des:"油電車"},{id:3,des:"電動車"},{id:4,des:"柴油車"}]}P(()=>{N()});const r=p({plate:"",car_type:"",car_type_title:"",main_pass_code:""}),_=p([]);function j(){o.value=="機車"?r.value.car_type=5:o.value=="腳踏車"&&(r.value.car_type=6,r.value.main_pass_code="BS",r.value.plate="腳踏車",r.value.bike_num=k.value),r.value.car_type_title=o.value,_.value.push(r.value),r.value={},k.value=null}let h=null;const u=p({});function D(a){const c=document.getElementById("deleteModal");h||(h=new O(c)),h.show(),u.value=_.value[a],u.value.index=a}function F(){h&&h.hide()}function I(){_.value.splice(u.value.index,1),F()}const k=p(null);function R(){y.setVehicleRegisteredList(_.value),console.log(_.value),z.push({name:"ApplyFacultyStudentParking_step3"})}return P(()=>{y.getVehicleRegisteredList(),_.value=y.vehicle_registered_list}),(a,c)=>{var T;return s(),i(S,null,[A(Z,{car_type_title:o.value,onUpdateCar_type_title:g},null,8,["car_type_title"]),e("h3",ee,t(a.$t(d.value)),1),e("form",te,[o.value!="腳踏車"?(s(),i("div",ae,[e("label",le,[q(t(a.$t("pages.applyFacultyStudentParking.vehicle_registration.plate"))+" ",1),e("span",se," ( "+t(a.$t("pages.applyFacultyStudentParking.vehicle_registration.licensePlateInputFormat"))+" ) ",1)]),b(e("input",{type:"text",class:"form-control",id:"plate","onUpdate:modelValue":c[0]||(c[0]=l=>r.value.plate=l)},null,512),[[U,r.value.plate]])])):v("",!0),o.value!="腳踏車"?(s(),i("div",ie,[e("label",ne,t(a.$t("pages.applyFacultyStudentParking.vehicle_registration.main_pass_code")),1),b(e("select",{class:"form-select","onUpdate:modelValue":c[1]||(c[1]=l=>r.value.main_pass_code=l)},[(s(!0),i(S,null,C(m.value,l=>(s(),i("option",{key:l.code,value:l.code},t(l.des),9,oe))),128))],512),[[x,r.value.main_pass_code]])])):v("",!0),o.value=="汽車"?(s(),i("div",re,[e("label",ce,t(a.$t("pages.applyStaffParking.vehicle_registration.car_type")),1),b(e("select",{class:"form-select","onUpdate:modelValue":c[2]||(c[2]=l=>r.value.car_type=l)},[(s(!0),i(S,null,C(V.value,l=>(s(),i("option",{key:l.id,value:l.id},t(l.des),9,de))),128))],512),[[x,r.value.car_type]])])):v("",!0),o.value=="腳踏車"?(s(),i("div",ue,[e("label",pe,t(a.$t("pages.applyFacultyStudentParking.vehicle_registration.bike_num")),1),b(e("input",{type:"number",class:"form-control",id:"bike_num","onUpdate:modelValue":c[3]||(c[3]=l=>k.value=l)},null,512),[[U,k.value]])])):v("",!0)]),e("div",_e,[e("button",{class:"btn btn-secondary",onClick:j},t(a.$t("pages.applyFacultyStudentParking.vehicle_registration.register")),1),e("button",{class:"btn btn-secondary",onClick:R},t(a.$t("pages.applyFacultyStudentParking.vehicle_registration.next")),1)]),e("section",null,[e("p",ve,t(a.$t("pages.applyFacultyStudentParking.vehicle_registration.plate_registered")),1),e("div",ye,[e("ul",null,[(s(!0),i(S,null,C(_.value,(l,w)=>{var E;return s(),i("li",{key:w},[e("div",ge,[e("p",me,[l.plate!="腳踏車"?(s(),i("span",he,t(l.plate),1)):v("",!0),l.car_type_title==="腳踏車"?(s(),i("span",fe,[e("span",null,t(a.$t("pages.applyFacultyStudentParking.vehicle_registration.main_pass_bike")),1),e("span",null," "+t(l.bike_num||0)+" ",1),e("span",null,t(a.$t("pages.applyFacultyStudentParking.vehicle_registration.unit")),1)])):(s(),i("span",ke,t(((E=n.find(B=>B.code===l.main_pass_code))==null?void 0:E.des)||"未知"),1))]),e("button",{class:"btn btn-dark",onClick:B=>D(w)},t(a.$t("pages.applyFacultyStudentParking.vehicle_registration.delete")),9,be)])])}),128))])]),e("div",Se,[e("div",Fe,[e("div",$e,[e("div",Pe,[e("h5",Ce,t(a.$t("pages.applyFacultyStudentParking.vehicle_registration.delete_confirm_title")),1),e("button",{type:"button",class:"btn-close",onClick:F,"aria-label":"Close"})]),e("div",Me,[e("p",null,[u.value.plate!="腳踏車"?(s(),i("span",Ve,t(u.value.plate),1)):v("",!0),u.value.car_type_title==="腳踏車"?(s(),i("span",Te,[e("span",null,t(a.$t("pages.applyFacultyStudentParking.vehicle_registration.main_pass_bike")),1),e("span",null," "+t(u.value.bike_num||0)+" ",1),e("span",null,t(a.$t("pages.applyFacultyStudentParking.vehicle_registration.unit")),1)])):(s(),i("span",we,t(((T=n.find(l=>l.code===u.value.main_pass_code))==null?void 0:T.des)||"未知"),1))]),e("p",null,t(a.$t("pages.applyFacultyStudentParking.vehicle_registration.delete_confirm_content")),1)]),e("div",Ee,[e("p",{class:"pointer text-primary fw-bold",onClick:F},t(a.$t("pages.applyFacultyStudentParking.vehicle_registration.cancel")),1),e("p",{class:"pointer text-primary fw-bold",onClick:I},t(a.$t("pages.applyFacultyStudentParking.vehicle_registration.delete")),1)])])])])])],64)}}},je=L(Be,[["__scopeId","data-v-bf17c9ef"]]);export{je as default};
