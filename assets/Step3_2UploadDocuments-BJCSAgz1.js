import{_ as w,r as m,b as S,o as i,c,a as e,t as s,F as v,e as b,w as h,v as L,g as C,h as D,n as x,l as N,f as B,d as y,i as E,k as M,m as F}from"./index-CQWBdGBd.js";import{_ as j,a as z,P as H}from"./PdfViewer-BcwRvhNF.js";import{M as X}from"./bootstrap.esm-Ceob_0pG.js";const G=120,J=40,K=24,Q="#333",Y={__name:"TheCaptcha",setup($){const n=m("");function f(){const r="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";n.value=Array.from({length:5},()=>r.charAt(Math.floor(Math.random()*r.length))).join(""),console.log("驗證碼是",n.value)}return S(f),(r,_)=>(i(),c("svg",{width:G,height:J,onClick:f},[_[0]||(_[0]=e("rect",{width:"100%",height:"100%",fill:"#f3f4f6"},null,-1)),e("text",{x:"50%",y:"50%","dominant-baseline":"middle","text-anchor":"middle",fill:Q,"font-size":K,"font-family":"monospace"},s(n.value),1)]))}},Z=w(Y,[["__scopeId","data-v-1675e183"]]),q={class:"mt-3"},O={class:"registered-list border rounded vehicle-registration"},ee={class:"me-3"},te={class:"mt-5"},ae={class:"mb-3"},se={for:"car_type",class:"form-label"},oe=["value"],le={class:"mb-3"},ne=["onClick"],ie={class:"fs-4 fw-bold px-1 py-3 align-content-center m-0"},ce={key:0,class:"img-container"},de=["onClick"],re=["onChange"],pe={class:"mb-3"},ue={class:"d-flex flex-column flex-md-row gap-md-5"},me={class:"form-check"},fe={class:"form-check-label",for:"campusToReceiveCertificate1"},_e={class:"form-check"},ve={class:"form-check-label",for:"campusToReceiveCertificate2"},he={class:"mb-3"},ge={class:"mb-3"},be={class:"d-flex justify-content-between align-items-center"},ye={class:"d-flex align-items-center gap-3"},ke={for:"captcha",class:"form-label text-nowrap m-0"},Ce={class:"captcha m-0"},De={class:"modal fade",id:"introductionModal",tabindex:"-1","aria-labelledby":"introductionModalLabel","aria-hidden":"true"},Me={class:"modal-dialog modal-fullscreen modal-dialog-centered"},we={class:"modal-content"},Se={class:"modal-header bg-secondary"},$e={class:"modal-title text-black",id:"introductionModalModalLabel"},Re={class:"modal-body"},Pe={class:"modal-footer"},Te={class:"text-center"},Ae=["disabled"],Ue={class:"modal fade",id:"comfirmModal",tabindex:"-1","aria-labelledby":"comfirmModalLabel","aria-hidden":"true"},Ve={class:"modal-dialog modal-dialog-centered"},Ie={class:"modal-content"},We={class:"modal-header bg-secondary"},Le={class:"modal-title text-black",id:"comfirmModalLabel"},xe={class:"modal-body"},Ne={class:"modal-footer"},Be={class:"pointer text-primary fw-bold","data-bs-dismiss":"modal"},Ee="/NTHU-Parking-Event-Management/documents/國立清華大學校園車輛管理辦法-1130626.pdf",Fe={__name:"Step3_2UploadDocuments",setup($){let n=null;const f=()=>{const t=document.getElementById("introductionModal");n||(n=new X(t)),n.show()},r=()=>{n&&n.hide()},_=()=>{p.value=!0,r()},o=m({vehicle_registered_list:[],selectedCommuteDistance:"",document_list:Array(5).fill(null),campusToReceiveCertificate:"1"});async function R(){o.value.vehicle_registered_list=[{plate:"RCC-7788",main_pass_code:"WC"},{plate:"RAC-2356",main_pass_code:"WC"},{plate:"RAC-2356",main_pass_code:"WM"},{plate:"RAC-2356",main_pass_code:"WC"},{plate:"RAC-2356",main_pass_code:"WM"}]}S(()=>{R()});const P=[{code:"WC",des:"工作證汽車識別證"},{code:"WM",des:"工作機車識別證"}],T=["5-10km","10-20km","20-30km","30-40km","40-50km","50km 以上"];o.value.selectedCommuteDistance="5-10km";function A(t,l){const a=t.target.files[0];a&&(o.value.document_list[l]=a)}function U(t){o.value.document_list[t]=null}const p=m(!1);async function V(){const t=[...o.value.document_list];o.value.document_list=o.value.document_list.filter(l=>l!==null),k.value=!0,k.value?(console.log(o.value),E.push("/application-success")):(o.value.document_list=[...t],g.value=!0)}const k=m(!1),g=m(!1);function I(){g.value=!1}return(t,l)=>(i(),c(v,null,[e("section",null,[e("p",q,s(t.$t("pages.applyStaffParking.uploadDocuments.plate_registered")),1),e("div",O,[e("ul",null,[(i(!0),c(v,null,b(o.value.vehicle_registered_list,(a,d)=>{var u;return i(),c("li",{key:d},[e("p",null,[e("span",ee,s(a.plate),1),e("span",null,s(((u=P.find(W=>W.code===a.main_pass_code))==null?void 0:u.des)||"未知"),1)])])}),128))])])]),e("form",te,[e("div",ae,[e("label",se,s(t.$t("pages.applyStaffParking.uploadDocuments.distance")),1),h(e("select",{class:"form-select","onUpdate:modelValue":l[0]||(l[0]=a=>o.value.selectedCommuteDistance=a)},[(i(),c(v,null,b(T,a=>e("option",{key:a,value:a},s(a),9,oe)),64))],512),[[L,o.value.selectedCommuteDistance]])]),e("div",le,[e("p",null,s(t.$t("pages.applyStaffParking.uploadDocuments.upload")),1),(i(!0),c(v,null,b(o.value.document_list,(a,d)=>(i(),c("div",{key:d,class:"bg-secondary mb-3 d-flex justify-content-around justify-content-md-center align-items-center upload position-relative pointer",onClick:u=>!a&&t.$refs[`fileInput${d}`][0].click()},[e("p",ie,s((a==null?void 0:a.name)||t.$t("pages.applyStaffParking.uploadDocuments.upload")+(d+1)),1),a?M("",!0):(i(),c("div",ce,l[4]||(l[4]=[e("img",{src:z,alt:"upload"},null,-1)]))),a?(i(),c("button",{key:1,type:"button",class:"btn btn-sm position-absolute top-25 end-0",onClick:F(u=>U(d),["stop"])}," X ",8,de)):M("",!0),e("input",{type:"file",ref_for:!0,ref:`fileInput${d}`,class:"d-none",onChange:u=>A(u,d)},null,40,re)],8,ne))),128))]),e("div",pe,[C(s(t.$t("pages.applyStaffParking.uploadDocuments.campusToReceiveCertificate"))+" ",1),e("div",ue,[e("div",me,[h(e("input",{class:"form-check-input",type:"radio",id:"campusToReceiveCertificate1","onUpdate:modelValue":l[1]||(l[1]=a=>o.value.campusToReceiveCertificate=a),value:"1"},null,512),[[D,o.value.campusToReceiveCertificate]]),e("label",fe,s(t.$t("pages.applyStaffParking.uploadDocuments.primaryCampus")),1)]),e("div",_e,[h(e("input",{class:"form-check-input",type:"radio",id:"campusToReceiveCertificate2","onUpdate:modelValue":l[2]||(l[2]=a=>o.value.campusToReceiveCertificate=a),value:"2"},null,512),[[D,o.value.campusToReceiveCertificate]]),e("label",ve,s(t.$t("pages.applyStaffParking.uploadDocuments.nanDaCampus")),1)])])]),e("div",he,[e("button",{type:"button",class:x(["btn btn-secondary fw-bold w-100",{btn:!0,"btn-dark":!p.value,"btn-secondary":p.value,"fw-bold":p.value,"w-100":!0}]),style:N({color:p.value?"#702f9f":"lightgray"}),onClick:f},[l[5]||(l[5]=e("i",{class:"bi bi-check-circle"},null,-1)),C(" "+s(t.$t("pages.applyStaffParking.uploadDocuments.certificateApplicationInstructionsRead")),1)],6)]),e("div",ge,[e("div",be,[e("div",ye,[e("label",ke,s(t.$t("pages.applyStaffParking.uploadDocuments.captcha")),1),h(e("input",{type:"text",class:"form-control",id:"captcha","onUpdate:modelValue":l[3]||(l[3]=a=>o.value.captcha=a)},null,512),[[B,o.value.captcha]])]),e("div",Ce,[y(Z)])])])]),e("div",De,[e("div",Me,[e("div",we,[e("div",Se,[e("h5",$e,s(t.$t("pages.applyStaffParking.uploadDocuments.certificateApplicationInstructionsTitle")),1),e("button",{type:"button",class:"btn-close",onClick:r,"aria-label":"Close"})]),e("div",Re,[y(H,{pdfUrl:Ee})]),e("div",Pe,[e("p",{class:"pointer text-primary fw-bold",onClick:r},s(t.$t("pages.applyStaffParking.uploadDocuments.cancel")),1),e("p",{class:"pointer text-primary fw-bold",onClick:_},s(t.$t("pages.applyStaffParking.uploadDocuments.confirm")),1)])])])]),e("div",Te,[e("button",{class:"btn btn-secondary w-100",disabled:!p.value,"data-bs-toggle":"modal","data-bs-target":"#comfirmModal"},s(t.$t("pages.applyStaffParking.uploadDocuments.apply")),9,Ae)]),e("div",Ue,[e("div",Ve,[e("div",Ie,[e("div",We,[e("h5",Le,s(t.$t("pages.applyStaffParking.uploadDocuments.confirm_title")),1),l[6]||(l[6]=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),e("div",xe,s(t.$t("pages.applyStaffParking.uploadDocuments.confirm_message")),1),e("div",Ne,[e("p",Be,s(t.$t("pages.applyStaffParking.uploadDocuments.cancel")),1),e("p",{class:"pointer text-primary fw-bold","data-bs-dismiss":"modal",onClick:V},s(t.$t("pages.applyStaffParking.uploadDocuments.confirm")),1)])])])]),y(j,{showApplicatioinResultModal:g.value,onClose:I},null,8,["showApplicatioinResultModal"])],64))}},Xe=w(Fe,[["__scopeId","data-v-5891fcd4"]]);export{Xe as default};
