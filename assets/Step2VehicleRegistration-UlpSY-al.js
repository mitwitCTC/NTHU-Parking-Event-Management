import{_ as x,o as l,c as s,a as e,n as h,r as c,b as S,i as w,j as N,t as o,w as k,e as T,k as m,v as V,F as b,d as C,h as j}from"./index-c3cCMPYn.js";import{_ as H,a as L}from"./機車-D4nls2Mz.js";import{u as R}from"./facultyStudentStore-Qh8GvEsr.js";const A="/NTHU-Parking-Event-Management/images/vehicle/%E8%85%B3%E8%B8%8F%E8%BB%8A.svg",D={class:"d-flex justify-content-start gap-5"},q={__name:"VehicleType",props:{car_type_title:{type:String,required:!0}},emits:["updateCar_type_title"],setup(g,{emit:d}){const r=d;function p(_){r("updateCar_type_title",_)}return(_,a)=>(l(),s("section",null,[e("div",D,[e("div",{class:h(["d-flex flex-column align-items-center pointer",{"gray-overlay":g.car_type_title!="汽車"}]),onClick:a[0]||(a[0]=v=>p("汽車"))},a[3]||(a[3]=[e("div",{class:"img-container"},[e("img",{src:H,alt:"汽車"})],-1)]),2),e("div",{class:h(["d-flex flex-column align-items-center pointer",{"gray-overlay":g.car_type_title!="機車"}]),onClick:a[1]||(a[1]=v=>p("機車"))},a[4]||(a[4]=[e("div",{class:"img-container"},[e("img",{src:L,alt:"機車"})],-1)]),2),e("div",{class:h(["d-flex flex-column align-items-center pointer",{"gray-overlay":g.car_type_title!="腳踏車"}]),onClick:a[2]||(a[2]=v=>p("腳踏車"))},a[5]||(a[5]=[e("div",{class:"img-container"},[e("img",{src:A,alt:"腳踏車"})],-1)]),2)])]))}},z=x(q,[["__scopeId","data-v-b278d9d3"]]),I={class:"mt-5"},G={key:0,class:"mb-3"},J={for:"plate",class:"form-label"},K={key:1,class:"mb-3"},O={for:"car_type",class:"form-label"},Q=["value"],W={key:2,class:"mb-3"},X={for:"car_type",class:"form-label"},Y=["value"],Z={key:3,class:"mb-3"},ee={for:"bike_num",class:"form-label"},te={class:"d-flex justify-content-between"},ae={class:"mt-3"},le={class:"registered-list border rounded vehicle-registration"},se={key:0,class:"me-3"},ne={key:1},ie={key:2},ce={__name:"Step2VehicleRegistration",setup(g){const d=R(),r=c("汽車");function p(i){r.value=i}const _=[{code:"TC",des:"教職員校內汽車識別證"},{code:"TE",des:"職務宿舍區汽車識別證"},{code:"SC",des:"學生汽車識別證"},{code:"HF",des:"短期汽車識別證"},{code:"TM",des:"教職員機車識別證"},{code:"TEM",des:"職務宿舍區機車識別證"},{code:"SM",des:"學生機車識別證"}],a=c([]);function v(){a.value=_.filter(i=>r.value==="汽車"?["TC","TE","SC","HF"].includes(i.code):r.value==="機車"?["TM","TEM","SM"].includes(i.code):[])}S(()=>{v()}),w(()=>{v()});const F=c([]);function M(){F.value=[{id:1,des:"汽油車"},{id:2,des:"油電車"},{id:3,des:"電動車"},{id:4,des:"柴油車"}]}S(()=>{M()});const n=c({plate:"",car_type:"",car_type_title:"",main_pass_code:""}),y=c([]);function P(){r.value=="機車"?n.value.car_type=5:r.value=="腳踏車"&&(n.value.car_type=6,n.value.main_pass_code="BS",n.value.plate="腳踏車",n.value.bike_num=f.value),n.value.car_type_title=r.value,y.value.push(n.value),n.value={},f.value=null}const f=c(null);function E(){d.setVehicleRegisteredList(y.value),console.log(y.value),j.push({name:"ApplyFacultyStudentParking_step3"})}return S(()=>{d.getVehicleRegisteredList(),y.value=d.vehicle_registered_list}),(i,u)=>(l(),s(b,null,[N(z,{car_type_title:r.value,onUpdateCar_type_title:p},null,8,["car_type_title"]),e("form",I,[r.value!="腳踏車"?(l(),s("div",G,[e("label",J,o(i.$t("pages.applyFacultyStudentParking.vehicle_registration.plate")),1),k(e("input",{type:"text",class:"form-control",id:"plate","onUpdate:modelValue":u[0]||(u[0]=t=>n.value.plate=t)},null,512),[[T,n.value.plate]])])):m("",!0),r.value!="腳踏車"?(l(),s("div",K,[e("label",O,o(i.$t("pages.applyFacultyStudentParking.vehicle_registration.main_pass_code")),1),k(e("select",{class:"form-select","onUpdate:modelValue":u[1]||(u[1]=t=>n.value.main_pass_code=t)},[(l(!0),s(b,null,C(a.value,t=>(l(),s("option",{key:t.code,value:t.code},o(t.des),9,Q))),128))],512),[[V,n.value.main_pass_code]])])):m("",!0),r.value=="汽車"?(l(),s("div",W,[e("label",X,o(i.$t("pages.applyStaffParking.vehicle_registration.car_type")),1),k(e("select",{class:"form-select","onUpdate:modelValue":u[2]||(u[2]=t=>n.value.car_type=t)},[(l(!0),s(b,null,C(F.value,t=>(l(),s("option",{key:t.id,value:t.id},o(t.des),9,Y))),128))],512),[[V,n.value.car_type]])])):m("",!0),r.value=="腳踏車"?(l(),s("div",Z,[e("label",ee,o(i.$t("pages.applyFacultyStudentParking.vehicle_registration.bike_num")),1),k(e("input",{type:"number",class:"form-control",id:"bike_num","onUpdate:modelValue":u[3]||(u[3]=t=>f.value=t)},null,512),[[T,f.value]])])):m("",!0)]),e("div",te,[e("button",{class:"btn btn-secondary",onClick:P},o(i.$t("pages.applyFacultyStudentParking.vehicle_registration.next")),1),e("button",{class:"btn btn-secondary",onClick:E},o(i.$t("pages.applyFacultyStudentParking.vehicle_registration.finish")),1)]),e("section",null,[e("p",ae,o(i.$t("pages.applyFacultyStudentParking.vehicle_registration.plate_registered")),1),e("div",le,[e("ul",null,[(l(!0),s(b,null,C(y.value,(t,B)=>{var $;return l(),s("li",{key:B},[e("p",null,[t.plate!="腳踏車"?(l(),s("span",se,o(t.plate),1)):m("",!0),t.car_type_title==="腳踏車"?(l(),s("span",ne,[e("span",null,o(i.$t("pages.applyFacultyStudentParking.vehicle_registration.main_pass_bike")),1),e("span",null," "+o(t.bike_num||0)+" ",1),e("span",null,o(i.$t("pages.applyFacultyStudentParking.vehicle_registration.unit")),1)])):(l(),s("span",ie,o((($=_.find(U=>U.code===t.main_pass_code))==null?void 0:$.des)||"未知"),1))])])}),128))])])])],64))}};export{ce as default};
