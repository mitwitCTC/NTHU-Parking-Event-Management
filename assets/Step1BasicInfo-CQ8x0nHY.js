import{_ as M,r as i,b as V,c as p,d as u,a,t as s,w as r,f as n,v as $,F as y,e as w,i as P,o as m}from"./index-C_sBOrdy.js";import{S as B}from"./StepNavigator-29Ov8aJC.js";import{u as Y}from"./staffStore-DAViLaum.js";import{_ as q,a as x}from"./ValidationModal-EtMf5_a9.js";import{M as D}from"./bootstrap.esm-Ceob_0pG.js";import"./上傳申請書-CXXY70II.js";const F={class:"mb-3"},U={for:"applicant",class:"form-label"},A={class:"mb-3"},C={for:"applicant_source",class:"form-label"},I={class:"mb-3"},N={for:"email",class:"form-label"},L={class:"mb-3"},R={for:"phone_number",class:"form-label"},E={class:"mb-3"},z={for:"academic_year",class:"form-label"},T=["value"],j={class:"text-center"},G={class:"modal fade",id:"comfirmModal",tabindex:"-1","aria-labelledby":"comfirmModalLabel","aria-hidden":"true"},H={class:"modal-dialog modal-dialog-centered"},J={class:"modal-content"},K={class:"modal-header bg-secondary"},O={class:"modal-title text-black",id:"comfirmModalLabel"},Q={class:"modal-body"},W={class:"modal-footer"},X={class:"pointer text-primary fw-bold","data-bs-dismiss":"modal"},Z={__name:"Step1BasicInfo",setup(aa){const g=i(1),f=Y(),l=i({}),_=i([]);V(()=>{const e=new Date().getFullYear()-1911,t=e+1;_.value=[e,t],l.value.academic_year=e,f.getApplicantData()});const c=i(null),d=i(!1),b=i({});function v(){const o={applicant:{required:!0},applicant_source:{required:!0},email:{required:!0,email:!0},phone_number:{required:!0,phone_number:!0},academic_year:{required:!0}};if(c.value){const{isValid:e,errorsResult:t}=c.value.validateForm(l.value,o);return e||(b.value=t,d.value=!0),e}else return console.error("FormValidator reference is not correctly initialized."),!1}function h(){d.value=!1}function S(){v()&&new D(document.getElementById("comfirmModal")).show()}function k(){v()&&(f.setApplicantData(l.value),P.push("/apply-staff-parking/step2"))}return(o,e)=>(m(),p(y,null,[u(B,{currentStep:g.value},null,8,["currentStep"]),u(x,{ref_key:"formValidatorRef",ref:c},null,512),a("form",null,[a("div",F,[a("label",U,s(o.$t("pages.applyStaffParking.basic_info.applicant")),1),r(a("input",{type:"text",class:"form-control",id:"applicant","onUpdate:modelValue":e[0]||(e[0]=t=>l.value.applicant=t)},null,512),[[n,l.value.applicant]])]),a("div",A,[a("label",C,s(o.$t("pages.applyStaffParking.basic_info.applicant_source")),1),r(a("input",{type:"text",class:"form-control",id:"applicant_source","onUpdate:modelValue":e[1]||(e[1]=t=>l.value.applicant_source=t)},null,512),[[n,l.value.applicant_source]])]),a("div",I,[a("label",N,s(o.$t("pages.applyStaffParking.basic_info.email")),1),r(a("input",{type:"mail",class:"form-control",id:"email","onUpdate:modelValue":e[2]||(e[2]=t=>l.value.email=t)},null,512),[[n,l.value.email]])]),a("div",L,[a("label",R,s(o.$t("pages.applyStaffParking.basic_info.phone_number")),1),r(a("input",{type:"text",class:"form-control",id:"phone_number","onUpdate:modelValue":e[3]||(e[3]=t=>l.value.phone_number=t)},null,512),[[n,l.value.phone_number]])]),a("div",E,[a("label",z,s(o.$t("pages.applyStaffParking.basic_info.academic_year")),1),r(a("select",{class:"form-select","onUpdate:modelValue":e[4]||(e[4]=t=>l.value.academic_year=t)},[(m(!0),p(y,null,w(_.value,t=>(m(),p("option",{key:t,value:t},s(t),9,T))),128))],512),[[$,l.value.academic_year]])])]),u(q,{showModal:d.value,errors:b.value,onClose:h},null,8,["showModal","errors"]),a("div",j,[a("button",{class:"btn btn-secondary",onClick:S},s(o.$t("pages.applyStaffParking.basic_info.next")),1)]),a("div",G,[a("div",H,[a("div",J,[a("div",K,[a("h5",O,s(o.$t("pages.applyStaffParking.basic_info.confirm_title")),1),e[5]||(e[5]=a("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),a("div",Q,s(o.$t("pages.applyStaffParking.basic_info.confirm_message")),1),a("div",W,[a("p",X,s(o.$t("pages.applyStaffParking.basic_info.cancel")),1),a("p",{class:"pointer text-primary fw-bold","data-bs-dismiss":"modal",onClick:k},s(o.$t("pages.applyStaffParking.basic_info.confirm")),1)])])])])],64))}},ra=M(Z,[["__scopeId","data-v-faf2db24"]]);export{ra as default};
