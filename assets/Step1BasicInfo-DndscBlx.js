import{r as o,b as _,c as u,d as f,a as e,t as s,w as n,v as F,F as V,e as R,f as v,g as M,h as y,i as $,o as d}from"./index-CLYkWNv9.js";import{_ as w,a as C}from"./ValidationModal-Bjko9hUP.js";import{u as P}from"./facultyStudentStore-DNdScmBb.js";const T={class:"m-0"},Y={class:"my-1"},x={class:"m-0"},A={class:"my-3"},B={for:"academic_year",class:"form-label"},D=["value"],U={class:"mb-3"},q={for:"email",class:"form-label"},N={class:"mb-3"},z={for:"phone_number",class:"form-label"},E={class:"mb-3"},I={class:"d-flex flex-column flex-md-row gap-md-5"},L={class:"form-check"},W={class:"form-check-label",for:"campusToReceiveCertificate1"},j={class:"form-check"},G={class:"form-check-label",for:"campusToReceiveCertificate2"},H={class:"text-center"},X={__name:"Step1BasicInfo",setup(J){const b=P(),a=o({has_disability_certificate:"0",academic_year:"",email:"",phone_number:""});async function h(){a.value.applicant_type="2",a.value.applicant_type_title="在職教職員工",a.value.applicant_source="課務組",a.value.applicant="王大明",a.value.applicant_number="A09035",a.value.email="DM.Wang@ess.nthu.edu.tw",a.value.phone_number="0960712213"}_(()=>{h()});const p=o([]);_(()=>{const t=new Date().getFullYear()-1911,l=t+1;p.value=[t,l],a.value.academic_year=t});const c=o(null),r=o(!1),m=o({});function g(){const i={email:{required:!0,email:!0},phone_number:{required:!0,phone_number:!0},academic_year:{required:!0}};if(c.value){const{isValid:t,errorsResult:l}=c.value.validateForm(a.value,i);return t||(m.value=l,r.value=!0),t}else return console.error("FormValidator reference is not correctly initialized."),!1}function k(){g()&&(b.setApplicantData(a.value),$.push({name:"ApplyFacultyStudentParking_step2"}))}function S(){r.value=!1}return(i,t)=>(d(),u("div",null,[f(C,{ref_key:"formValidatorRef",ref:c},null,512),e("section",null,[e("p",T,[e("span",null,s(a.value.applicant_type_title),1),t[5]||(t[5]=e("span",null,"／",-1)),e("span",null,s(a.value.applicant_source),1)]),e("p",Y,s(a.value.applicant_number),1),e("p",x,s(a.value.applicant),1)]),e("section",null,[e("form",null,[e("div",A,[e("label",B,s(i.$t("pages.applyFacultyStudentParking.basic_info.academic_year")),1),n(e("select",{class:"form-select","onUpdate:modelValue":t[0]||(t[0]=l=>a.value.academic_year=l)},[(d(!0),u(V,null,R(p.value,l=>(d(),u("option",{key:l,value:l},s(l),9,D))),128))],512),[[F,a.value.academic_year]])]),e("div",U,[e("label",q,s(i.$t("pages.applyFacultyStudentParking.basic_info.email")),1),n(e("input",{type:"email",class:"form-control",id:"email","onUpdate:modelValue":t[1]||(t[1]=l=>a.value.email=l)},null,512),[[v,a.value.email]])]),e("div",N,[e("label",z,s(i.$t("pages.applyFacultyStudentParking.basic_info.phone_number")),1),n(e("input",{type:"text",class:"form-control",id:"phone_number","onUpdate:modelValue":t[2]||(t[2]=l=>a.value.phone_number=l)},null,512),[[v,a.value.phone_number]])]),e("div",E,[M(s(i.$t("pages.applyFacultyStudentParking.basic_info.has_disability_certificate"))+" ",1),e("div",I,[e("div",L,[n(e("input",{class:"form-check-input",type:"radio",name:"campusToReceiveCertificate1",id:"campusToReceiveCertificate1","onUpdate:modelValue":t[3]||(t[3]=l=>a.value.has_disability_certificate=l),value:"1"},null,512),[[y,a.value.has_disability_certificate]]),e("label",W,s(i.$t("pages.applyFacultyStudentParking.basic_info.yes")),1)]),e("div",j,[n(e("input",{class:"form-check-input",type:"radio",name:"campusToReceiveCertificate2",id:"campusToReceiveCertificate2","onUpdate:modelValue":t[4]||(t[4]=l=>a.value.has_disability_certificate=l),value:"0"},null,512),[[y,a.value.has_disability_certificate]]),e("label",G,s(i.$t("pages.applyFacultyStudentParking.basic_info.no")),1)])])])]),e("div",H,[e("button",{class:"btn btn-secondary",onClick:k},s(i.$t("pages.applyFacultyStudentParking.basic_info.next")),1)])]),f(w,{showModal:r.value,errors:m.value,onClose:S},null,8,["showModal","errors"])]))}};export{X as default};
